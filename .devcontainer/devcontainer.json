{
    "name": "ROS 2 Humble - Ambiente Otimizado",
    "dockerFile": "Dockerfile",
    "context": "..",
    "workspaceFolder": "/ros2_ws",
    "workspaceMount": "source=${localWorkspaceFolder},target=/ros2_ws/src/prm,type=bind",

    "runArgs": [
        "--privileged",
        "--net=host",
        "--ipc=host",
        "--gpus=all",
        "-e", "DISPLAY=${env:DISPLAY}",
        "-e", "NVIDIA_DRIVER_CAPABILITIES=all",
        "-e", "VGL_DISPLAY=:0",
        "-v", "/tmp/.X11-unix:/tmp/.X11-unix:rw",
        "-v", "/dev/dri:/dev/dri:rw"
    ],

    "containerEnv": {
        "GAZEBO_VERSION": "garden",
        "RMW_IMPLEMENTATION": "rmw_fastrtps_cpp",
        "TERM": "xterm-256color"
    },

    "postCreateCommand": "/home/ros/scripts/setup-env.sh",

    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-iot.vscode-ros",
                "redhat.vscode-xml"
            ],
            "settings": {
                "python.defaultInterpreterPath": "/usr/bin/python3",
                "editor.formatOnSave": true
            }
        }
    }
}